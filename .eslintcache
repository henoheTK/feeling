[{"/home/vagrant/workspace/qa-app/src/index.js":"1","/home/vagrant/workspace/qa-app/src/App.js":"2","/home/vagrant/workspace/qa-app/src/NavBar/NavBar.js":"3","/home/vagrant/workspace/qa-app/src/IconRender.js":"4","/home/vagrant/workspace/qa-app/src/Firebase/Firebase.js":"5","/home/vagrant/workspace/qa-app/src/Main/Main.js":"6","/home/vagrant/workspace/qa-app/src/Main/RoomForm/RoomForm.js":"7","/home/vagrant/workspace/qa-app/src/Room/Room.js":"8","/home/vagrant/workspace/qa-app/src/Main/Rooms/Rooms.js":"9","/home/vagrant/workspace/qa-app/src/Room/Comments/Comments.js":"10","/home/vagrant/workspace/qa-app/src/Room/Stages/Stage.js":"11","/home/vagrant/workspace/qa-app/src/Room/Stages/CommetForm/CommentForm.js":"12","/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/StageIcon.js":"13","/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/IconAccessory/NewComment.js":"14","/home/vagrant/workspace/qa-app/src/Room/RoomHeader/RoomHeader.js":"15","/home/vagrant/workspace/qa-app/src/Room/Stages/Kanran/Kanran.js":"16","/home/vagrant/workspace/qa-app/src/IconRandomMove.js":"17","/home/vagrant/workspace/qa-app/src/UserSettings/UserSettings.js":"18","/home/vagrant/workspace/qa-app/src/UserSettings/NoLogin.js":"19","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/LoggedIn.js":"20","/home/vagrant/workspace/qa-app/src/UserSettings/logout.js":"21","/home/vagrant/workspace/qa-app/src/UserSettings/Logout.js":"22","/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/IconAccessory/ReActionButtons.js":"23","/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/IconAccessory/ReActions.js":"24","/home/vagrant/workspace/qa-app/src/Error/Error.js":"25","/home/vagrant/workspace/qa-app/src/Room/Stages/Nomal/Nomal.js":"26","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/MakeIcon/MakeIcon.js":"27","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/MakeIcon/IconData.js":"28","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/MakeIcon/PartsSelect/PartsSelect.js":"29","/home/vagrant/workspace/qa-app/src/miserarenaiyo.js":"30","/home/vagrant/workspace/qa-app/src/CollectionDelete.js":"31","/home/vagrant/workspace/qa-app/src/Main/Introduce/Introduce.js":"32"},{"size":725,"mtime":1612320350000,"results":"33","hashOfConfig":"34"},{"size":3518,"mtime":1612320343000,"results":"35","hashOfConfig":"34"},{"size":4914,"mtime":1612344445000,"results":"36","hashOfConfig":"34"},{"size":1832,"mtime":1612094667000,"results":"37","hashOfConfig":"34"},{"size":210,"mtime":1612104300000,"results":"38","hashOfConfig":"34"},{"size":358,"mtime":1612332540000,"results":"39","hashOfConfig":"34"},{"size":1745,"mtime":1612358343000,"results":"40","hashOfConfig":"34"},{"size":6735,"mtime":1614132224000,"results":"41","hashOfConfig":"34"},{"size":2642,"mtime":1614131870000,"results":"42","hashOfConfig":"34"},{"size":1873,"mtime":1612094629000,"results":"43","hashOfConfig":"34"},{"size":4735,"mtime":1612311071000,"results":"44","hashOfConfig":"34"},{"size":3536,"mtime":1614131461000,"results":"45","hashOfConfig":"34"},{"size":1907,"mtime":1612351783000,"results":"46","hashOfConfig":"34"},{"size":402,"mtime":1611710203000,"results":"47","hashOfConfig":"34"},{"size":1836,"mtime":1612351567000,"results":"48","hashOfConfig":"34"},{"size":1044,"mtime":1611736790000,"results":"49","hashOfConfig":"34"},{"size":867,"mtime":1611809270000,"results":"50","hashOfConfig":"34"},{"size":1087,"mtime":1611813745000,"results":"51","hashOfConfig":"34"},{"size":3324,"mtime":1612341090000,"results":"52","hashOfConfig":"34"},{"size":2784,"mtime":1612338424000,"results":"53","hashOfConfig":"34"},{"size":505,"mtime":1611701537000,"results":"54","hashOfConfig":"34"},{"size":427,"mtime":1611702780000,"results":"55","hashOfConfig":"34"},{"size":1405,"mtime":1612098505000,"results":"56","hashOfConfig":"34"},{"size":1177,"mtime":1612350934000,"results":"57","hashOfConfig":"34"},{"size":217,"mtime":1611795372000,"results":"58","hashOfConfig":"34"},{"size":685,"mtime":1612304825000,"results":"59","hashOfConfig":"34"},{"size":9507,"mtime":1612096729000,"results":"60","hashOfConfig":"34"},{"size":9884,"mtime":1612341362000,"results":"61","hashOfConfig":"34"},{"size":1145,"mtime":1611819905000,"results":"62","hashOfConfig":"34"},{"size":584,"mtime":1612104274000,"results":"63","hashOfConfig":"34"},{"size":709,"mtime":1612310566000,"results":"64","hashOfConfig":"34"},{"size":1229,"mtime":1612328668000,"results":"65","hashOfConfig":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"69"},"122sjy",{"filePath":"70","messages":"71","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":1,"source":"72","usedDeprecatedRules":"69"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"69"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"69"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"69"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"69"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"69"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"69"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"69"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"69"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"69"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"69"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"120","usedDeprecatedRules":"69"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"69"},{"filePath":"124","messages":"125","errorCount":3,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","errorCount":1,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"69"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"69"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"69"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"69"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},"/home/vagrant/workspace/qa-app/src/index.js",["152","153"],"import React,{createContext,useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './App';\nimport './index.css'\n//import User from './User';\n//import { createStore } from 'redux'\n//import todoApp from './reducers/test.js'\n//let store = createStore(todoApp)\n\n//import * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();",["154","155"],"/home/vagrant/workspace/qa-app/src/App.js",["156","157","158","159","160","161","162","163","164","165"],"import React, { Component,getState, createContext,useContext,useState,useEffect } from 'react';\nimport { BrowserRouter as Router, Redirect, Route, RouteProps, Switch } from 'react-router-dom';\nimport NavBar from './NavBar/NavBar';\nimport Comments from './Room/Comments/Comments';\nimport MakeIcon from './UserSettings/UserInfo/MakeIcon/MakeIcon';\nimport UserSettings from './UserSettings/UserSettings';\nimport Room from './Room/Room';\nimport Main from './Main/Main';\nimport { useWorker } from 'react-hooks-worker';\n\nimport {googleauthConfig} from './miserarenaiyo';\nimport firebase, { db } from './Firebase/Firebase';  \nimport NoLogin from './UserSettings/NoLogin';\nimport Error from './Error/Error';\n\n//ユーザー系のcontext\nexport const userContext=createContext();\n\nlet isFirst=false;\n\nconst App = () => {\n  //ユーザー系のステート\n  const [isOnline , setIsOnline] = useState(null);\n  const [userId   , setUserId  ] = useState(null);\n  const [userInfo , setUserInfo] = useState(null);\n  \n  useEffect(() => {\n    async function getUserInfo(){\n      if(userId){\n        const userInfoUnsubscribe = await db.collection('users').doc(userId).onSnapshot(doc=>{\n          db.collection('users').doc(userId).collection('seclet').doc(userId).get().then(seclet=>{\n            let data=doc.data();\n            let secletdata=seclet.data();\n            setUserInfo({\n              userName    : secletdata['userName'] ,\n              email       : secletdata['email']    ,\n              displayName : data['displayName']    ,\n              oneWord     : data['oneWord']        ,\n              iconinfo    : data['iconinfo']       ,\n              rooms       : data['rooms']          ,\n              room        : data['room']\n            });\n          });\n        });\n        return () => userInfoUnsubscribe();\n      }\n    }\n    getUserInfo();\n  },[userId]);\n\n  useEffect(() => {\n    //ログイン時にステート更新する処理\n    firebase.auth().onAuthStateChanged(async function (user) {\n      let isOnline = false;\n      let userId = null;\n      if (user) {\n        userId   = user.uid;\n        isOnline = true;\n      }\n      // 初回ログイン時、データの追加より先に、stateが更新され、エラーになってしまうため、その対策。\n      if(!isFirst){\n        setUserId(userId);\n        setIsOnline(isOnline);\n      };\n      //this.setState({isOnline:isOnline})\n      //this.setState({userId:userId})\n    }.bind(this));\n  })\n  // ルーティングはここでやる\n  return (\n      <div>\n      <userContext.Provider value={{isOnline , setIsOnline , userId , setUserId, userInfo , setUserInfo }}>\n        <NavBar/>\n        <Switch>\n          <Route exact path = '/login' component = {NoLogin} /> \n          {isOnline === false &&<Redirect to = {'/login'} />}\n          {isOnline === true &&\n            <Switch>\n              <Route exact path='/error'       component = {Error}/>\n              <Route exact path='/'            component = {Main}/>\n              <Route exact path='/userSetting' component = {UserSettings}/>\n              <Route exact path='/room/:id'    component = {Room}/>\n              <Redirect to = {'/error'} />\n            </Switch>\n          }\n          <>loading...</>\n        </Switch>\n      </userContext.Provider>\n      </div>\n  );\n}\n\n\n\n\n\n/**\n * \n * <Auth>\n            <Switch>\n            </Switch>\n          </Auth>\n          \n *  */\n//export {UserContext};\nexport function setIsFirst(newValue){\n  isFirst=newValue;\n}\nexport default App;\n","/home/vagrant/workspace/qa-app/src/NavBar/NavBar.js",["166","167","168","169"],"import React,{ useContext,useEffect,useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport { userContext } from '../App';\nimport firebase, {db} from '../Firebase/Firebase'\nimport Icon from '../IconRender';\nimport './navbar.css'\n\nfunction NavBar() {\n  const {isOnline,userId,userInfo} = useContext(userContext);\n  const [allrooms,setAllRooms] =useState(null);\n  const [nowRoom,setNowRoom] =useState(null);\n  \n  useEffect(()=>{\n    \n    if(userInfo){\n      // 一番最後に入ったルームのルーム名取得。\n      if(userInfo['room']){\n        db.collection('rooms').doc(userInfo['room']).get().then((doc)=>{\n          if(doc.exists){\n            setNowRoom([doc.id,doc.data()['roomName']]);\n          }else{\n            // そのルームが存在しないならnullに。削除されたとき対策\n            db.collection('users').doc(userId).update({\n              room : null\n            })\n          }\n        })\n      }\n      // 入室しているルームを取得\n      if(userInfo['rooms'].length!==0){\n        db.collection('rooms').where(firebase.firestore.FieldPath.documentId(),'in',userInfo['rooms']).get().then((doc)=>{\n        let roomInfos={};\n        let existsRoom=[];\n        if(!doc.empty){\n          // ルームの名前配列の作成と同時に、存在するルームid配列を作成\n          doc.docs.forEach((room)=>{\n            if(room.exists){\n              roomInfos[room.id]=room.data()['roomName'];\n              existsRoom.push(room.id);\n            }\n          });\n          setAllRooms(roomInfos);\n\n          // 存在するルームが、今設定されているルーム数より少なければ、今設定されているルームを上書き。削除された時対策\n          if(existsRoom.length!==userInfo['rooms'].length){\n            db.collection('users').doc(userId).update({\n              rooms:existsRoom\n            })\n          }\n        }else{\n          setAllRooms(false);\n          db.collection('users').doc(userId).update({\n            rooms:[]\n          })\n        }\n      }).catch((error)=>{\n        console.log('Error:'+error)\n      })\n    }else{\n      setAllRooms(false);\n    }\n  }\n  },[userInfo]);\n  return (\n    <nav className=\"navbar navbar-default\" style={{'margin':'0px'}}>\n      <div className=\"container-fluid\">\n\t\t\t\t<div className=\"navbar-header\">\n\t\t\t\t\t<button type=\"button\" className=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\">\n\t\t\t\t\t\t<span className=\"sr-only\">Toggle navigation</span>\n\t\t\t\t\t\t<span className=\"icon-bar\"></span>\n\t\t\t\t\t\t<span className=\"icon-bar\"></span>\n\t\t\t\t\t\t<span className=\"icon-bar\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<a className=\"navbar-brand\" href=\"/\">エモいチャット。</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n\t\t\t\t\t<ul className=\"nav navbar-nav\">\n            \n            <li className=\"\"><a href=\"/\">ホーム<span className=\"sr-only\">(current)</span></a></li>\n\n            {nowRoom!==null&&\n              <li className=\"\"><a href={\"/room/\"+nowRoom[0]}>{nowRoom[1]}<span className=\"sr-only\">(current)</span></a></li>\n            }\n            <li className=\"dropdown\">\n              <a className=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">ルームs <span className=\"caret\"></span></a>\n              <ul className=\"dropdown-menu\" role=\"menu\">\n                  {allrooms===false &&\n                    <li><p>no rooms</p></li>\n                  }\n                  {isOnline===false &&\n                    <li><p>not loggedIn</p></li>\n                  }\n                  {allrooms!==null && allrooms!==false &&\n                    Object.entries(allrooms).map((value)=>(\n                     <li key={value[0]}><a href={\"/room/\"+value[0]}>{value[1]}</a></li>\n                    ))\n                  }\n\t\t\t\t\t\t  \t</ul>\n\t\t\t\t\t\t  </li>\n          </ul>\n\t\t\t\t\t{/*検索機能はいったんコメントアウト\n          <form className=\"navbar-form navbar-left\" role=\"search\">\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Search\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-default\">Submit</button>\n          </form>\n          */}\n          {isOnline===true &&\n\t\t\t\t\t  <ul className=\"nav navbar-nav navbar-right\">\n\t\t\t\t\t  \t<li id=\"userInfo-li\"  href=\"/userSetting\">\n                <a id='infoLink-icon' href=\"/userSetting\"></a>\n                <div href=\"/userSetting\"  className='iconMask barMask'>\n                  {userInfo !== null&&\n                    <Icon iconInfo={userInfo['iconinfo']} where=\"header\" iconSize=\"50\" />\n                  }\n                  <h6 id=\"icon-loading-text\">loading icon...</h6>\n                </div>\n              </li>\n\t\t\t\t\t  </ul>\n          }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n  );\n}\n//<Icon iconInfo={}></Icon>\n            \nexport default NavBar;\n","/home/vagrant/workspace/qa-app/src/IconRender.js",["170","171","172","173","174"],"import React, { Component, createContext,useContext,useState } from 'react';\n\n// 感情の変化させるパーツの配列。\nconst emoteParts={\n  'happy':[\n    'leftEye','rightEye','mouth'\n  ],\n  'angry':[\n    'leftEye','rightEye','mouth'\n  ],\n  'naki':[\n    'leftEye','rightEye','mouth'\n  ],\n  'yurei':[\n    'leftEye','rightEye','mouth'\n  ],\n  'thinking':[\n    'leftEye','rightEye','mouth'\n  ],\n  'henoheno':[\n    'leftEye','rightEye','mouth','nose','face'\n  ]\n}\n\n// propsはiconInfoとiconSize、emotion、where。\nconst Icon=(props)=>{\n  const Parts=(parts)=>{\n    const info=parts.info;\n    // 感情がある場合にはその感情のパス、ない場合は保存されてるパスを渡す。\n    let path;\n    //rotは、感情がある場合0で渡す\n    let rot;\n    if(props.emotion!=='null'&&props.emotion&&emoteParts[props.emotion].indexOf(info[0])!==-1){\n      path=\"../images/icon/\"+props.emotion+\"_\"+info[0]+\".png\";\n      rot=0;\n    }else{\n      path=\"../images/icon/\"+info[1][\"kind\"]+\"_\"+info[0]+\".png\";\n      rot=parseInt(info[1][\"rot\"]);\n    }\n    return(\n      <img key={info[0]} className={props.where+\"-iconparts \"+info[0]} src={path} style={{\n        height  : (info[1][\"sizeY\"] / 300) * props.iconSize + \"px\" ,\n        width   : (info[1][\"sizeX\"] / 300) * props.iconSize + \"px\" ,\n        top     : (info[1][\"posY\"]  / 300) * props.iconSize + \"px\" ,\n        left    : (info[1][\"posX\"]  / 300) * props.iconSize + \"px\" ,\n        position :\"absolute\" , \n        transform:\"rotate(\"+rot+\"deg)\",\n      }} />\n    )\n  }\n  return (\n    <div className={props.where+\"-icon\"} style={{position:\"relative\", height:props.iconSize+\"px\", width:props.iconSize+\"px\"}}>\n      {Object.entries(props.iconInfo).map(info => (\n        <Parts key={info[0]} info={info}></Parts>\n      ))}  \n    </div>\n  );\n}\n\nexport default Icon;\n","/home/vagrant/workspace/qa-app/src/Firebase/Firebase.js",[],"/home/vagrant/workspace/qa-app/src/Main/Main.js",["175"],"import React from 'react';\nimport SplitPane from 'react-split-pane';\nimport Introduce from './Introduce/Introduce';\nimport RoomForm from './RoomForm/RoomForm';\nimport Rooms from './Rooms/Rooms';\n\nconst Main = () => {\n  return (\n    <div id=\"roomsAndForm\">\n      <Introduce></Introduce>\n      <Rooms />\n      <RoomForm />\n    </div>\n  )\n}\nexport default Main;","/home/vagrant/workspace/qa-app/src/Main/RoomForm/RoomForm.js",[],"/home/vagrant/workspace/qa-app/src/Room/Room.js",["176","177","178","179","180","181","182","183","184","185","186"],"import React, { Component, createContext,useContext,useState,useEffect } from 'react';\nimport axios from 'axios';\nimport Icon from '../IconRender'\nimport Stage from './Stages/Stage';\nimport SplitPane from 'react-split-pane';\nimport { Splitpanes, Pane } from 'splitpanes'\nimport 'splitpanes/dist/splitpanes.css'\nimport Comments from './Comments/Comments';\nimport firebase, { db } from '../Firebase/Firebase'; \nimport {userContext} from '../App'\nimport RoomHeader from './RoomHeader/RoomHeader';\nimport './room.css';\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom.min';\nimport StageIcon from './Stages/StageIcon/StageIcon';\n\nconst defaultSplitSize=800;\n\nconst Room = () => {\n  const [room,setRoom] = useState(null);\n  const [isRoom,setIsRoom] = useState(null);\n  const [comments,setComments] = useState(null);\n  const [splitSize,setSplitSize] = useState(defaultSplitSize);\n  const [members,setMembers] = useState(null);\n  const {isOnline,userId,userInfo} = useContext(userContext);\n  // URLのパラメータを取得\n  var Path = window.location.pathname;\n  var roomId = Path.split('/')[2];\n  \n  useEffect(()=>{\n    async function roomData() {\n      const roomUnsubscribe = await db.collection('/rooms').doc(roomId).onSnapshot(doc=> {\n        if(doc.exists){\n          let value=doc.data();\n          if(value['members'].indexOf(userId)===-1){\n            console.log('入室しました');\n            db.collection('rooms').doc(roomId).update({\n              members: firebase.firestore.FieldValue.arrayUnion(userId)\n            }).then(()=>{\n              db.collection('users').doc(userId).update({\n                rooms: firebase.firestore.FieldValue.arrayUnion(roomId)\n              }).catch((error)=>{\n                console.log('Error:'+error)\n              }).then(()=>{\n                setIsRoom(true);\n              })\n              db.collection('users').doc(userId).update({\n                room: roomId\n              }).catch((error)=>{\n                console.log('Error:'+error)\n              })\n            }).catch((error)=>{\n              console.log('Error:'+error)\n            })\n          }else{\n            setIsRoom(true);\n          }\n          let d = value['timeStamp'].toDate();\n          let roomData={\n            id           : doc.id,\n            roomName     : value['roomName'],\n            stageId      : value['stageId'],\n            madeTime     : d.getFullYear()+'/'+(parseInt(d.getMonth()) + 1)+'/'+d.getDate(),\n            madeUserId   : value['madeUserId'],\n            madeUserName : value['madeUserName'],\n            members      : value['members'],\n\n          }\n          setRoom(roomData);\n        }else{\n          setIsRoom(false);\n        }\n      });\n      return () => roomUnsubscribe();\n    };\n    roomData();\n  },[])\n\n  useEffect(() => {\n    async function commentsData(){\n      if(isRoom) {\n        console.log(room)\n        const commentsUnsubscribe = await db.collection('/rooms').doc(roomId).collection('comments').orderBy('timeStamp', 'asc').onSnapshot(data=> {\n          let commentIds=data.docs.map(doc => \n            doc.id\n          );\n          let value=[];\n          data.forEach((doc) => {\n            value.push(\n              doc.data()\n            );\n          });\n          let comments=[];\n           for(let i = 0; i < commentIds.length; i++){\n            comments.push(\n              {\n                id       : commentIds[i],\n                content  : value[i]['content'],\n                emotion  : value[i]['emotion'], \n                userId   : value[i]['userId'],\n              }\n            )\n          }\n          console.log(commentIds,comments,data);\n          setComments(comments);\n        });\n        return () => commentsUnsubscribe();\n      }\n    }\n    \n    async function membersData(){\n      if(isRoom){\n        let value={};\n        const memberUnsubscribe= await db.collection('rooms').doc(roomId).onSnapshot(async doc=>{\n          const memberIds=doc.data()['members'];\n          console.log(memberIds);\n          if(memberIds&&memberIds.length!==0){\n            for(let i=0;i<Math.floor(memberIds.length/10)+1; i++){\n              let ten_memberIds=memberIds.slice( i * 10 , (i * 10) + 10 );\n              await db.collection('users').where('userId','in',ten_memberIds).get().then(infos=>{\n                if(!infos.empty){\n                  console.log(infos);\n                  infos.docs.forEach(info=>{\n                    let data=info.data();\n                    let memberId=info.data()['userId'];\n                    value[memberId]={\n                      displayName : data['displayName'],\n                      oneWord     : data['oneWord'],\n                      iconInfo    : data['iconinfo']\n                    }\n                  })\n                  console.log(value,infos,infos.docs);\n                  console.log(\"member\",Math.floor(memberIds.length/10)+1,i)\n                  if(i+1 >= Math.floor(memberIds.length/10)+1){\n                    console.log(\"member load fin:\"+value,value.length);\n                    setMembers(value);\n                  }\n                }  \n              });\n            }\n          }\n        });\n        return () => memberUnsubscribe();\n      }\n    }\n    \n    commentsData();\n    membersData();\n  \n    //unsubscribe();\n    \n  }, [isRoom]);\n  \n  \n//  <Icon iconInfo={this.state.room.iconInfo.filter(i => (i.id === parseInt(comment.userId)))[0].value}/>\n\n  \n  //if (this.state.room === null) return <p>Loading ...</p>;\n  return (\n    //<Nomal />\n        //<Icon iconInfo={room.iconInfo[0].value}/>\n    <div className=\"container\">\n      {isRoom===null && <p>Loading Room...</p>}\n      {isRoom===true&&\n        <roomContext.Provider value={{members,setMembers,room,setRoom,comments,setComments,splitSize,setSplitSize}}>\n          {room===null && <p>Loading Room...</p>}\n          {room &&\n            <div className=\"row\">\n              <RoomHeader />\n              <SplitPane split=\"vertical\" minSize={300} defaultSize={defaultSplitSize} maxSize={1000} style={{\"height\":window.innerHeight-101}}>\n                <div id='left' style={{'display':'flex'}}>\n                  {members === null && <p>Loading Stage...</p>}\n                  {members !== null&&<Stage/>}\n                </div>\n                <div id=\"right\" >\n                  {comments === null && members !== null && <p>Loading Ccomments...</p>}\n                  {comments !==null && members !== null && <Comments />}\n                </div>\n              </SplitPane>\n            </div>\n          }\n        </roomContext.Provider>\n      }\n      {isRoom==false &&\n        <Redirect to = {'/error'} />\n      }\n    </div>\n  )\n}\nconst roomContext=createContext([]);\nexport {roomContext};\nexport default Room;","/home/vagrant/workspace/qa-app/src/Main/Rooms/Rooms.js",["187","188","189","190","191","192","193"],"import React, {Component,useState,useEffect,current} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport firebase, { db } from '../../Firebase/Firebase';  \nimport SplitPane from 'react-split-pane';\nimport RoomForm from '../RoomForm/RoomForm';\nimport '../Rooms/rooms.css'\n\nconst Rooms = () => {\n\n  const [rooms,setRooms]=useState(null);\n  \n  useEffect(() => {\n    let unmounted=false;\n    async function roomsData() {\n      // ルームのデータを取得。\n      const unsubscribe = await db.collection('/rooms').orderBy('timeStamp', 'asc').get().then(col=> {\n        if(!unmounted){\n          // idを配列に\n          let roomids=col.docs.map(postCol => \n            postCol.id\n          );\n          // データの中身を取得\n          let value=[];\n          col.forEach((postCol) => {\n            value.push(\n              postCol.data()\n            );\n          });\n          /* 本来は変わった部分だけいい感じにすべきなんだろうけど...時間足らず...\n          col.docChanges().forEach(change => {\n            console.log(change.doc.data());\n          });\n          */\n          let rooms=[];\n          // idとデータを合体\n          for(let i = 0; i < roomids.length; i++){\n            let d = value[i][\"timeStamp\"].toDate();\n            rooms.push({\n                roomName     : value[i][\"roomName\"],\n                stageId      : value[i][\"stageId\"],\n                madeTime     : d.getFullYear()+'/'+(parseInt(d.getMonth()) + 1)+'/'+d.getDate(),\n                madeUserName : value[i][\"madeUserName\"],\n                madeUserId   : value[i][\"madeUserId\"],\n                members      : value[i][\"members\"],\n                id           : roomids[i],\n              }\n            )\n          }\n          setRooms(rooms);\n        }\n      });// ...\n    };\n\n    roomsData();\n  }, []);\n  return (\n    <div id=\"rooms\" className=\"list-group\">\n      {rooms === null && <p>Loading rooms...</p>}\n      {rooms && \n        rooms.map(room => (\n          <li key={room.id} className=\"roomsItem list-group-item d-flex\">\n            <Link to={`/room/${room.id}`}>\n              <h4 >{room.roomName}</h4>\n            </Link>\n            <h4 >作成者：{room.madeUserName}</h4>\n            <h4 >作成日時：{room.madeTime}</h4>\n            <h4 >メンバー：{room.members.length}人</h4>\n          </li>\n        ))\n      }\n      {rooms && rooms.length === 0 &&\n        <li key={\"none room\"} className=\"roomsItem list-group-item d-flex\">\n           <h4>まだルームはありません</h4>\n        </li>\n      }\n      \n\t  </div>\n  )\n}\n\nexport default Rooms;","/home/vagrant/workspace/qa-app/src/Room/Comments/Comments.js",["194","195","196","197","198"],"import React, {Component,useContext, useEffect} from 'react';\n//import {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {roomContext} from '../Room';\nimport Icon from '../../IconRender';\nimport {db} from '../../Firebase/Firebase'\nimport './comments.css'\nimport randomMoveTimer from '../../IconRandomMove';\n\nconst iconSize=50;\n\nconst IconMove=()=>{\n  let timers=[];\n  for(let i=0;i<timers.length;i++){\n    clearInterval(timers[i]);\n  }\n  timers=[];\n  const iconparts=  document.getElementsByClassName('comments-iconparts');\n  for(let i=0;i<iconparts.length;i++){\n    timers.push(randomMoveTimer(iconparts[i],1000));\n  }\n  return timers;\n}\n\nconst Comments=()=>{\n  const {comments,room,members} = useContext(roomContext);\n  var Path = window.location.pathname;\n\n  useEffect(()=>{\n    let target = document.getElementById('scroll-inner');\n    console.log(target);\n    target.scrollIntoView(false);\n  \n\n    let moveTimer=IconMove();\n  \n    return ()=>{\n      moveTimer.forEach(timer => {\n        clearInterval(timer);\n      });\n    }\n  })\n\n  return (\n    <div id='comments' className=\"list-group\">\n      <div id=\"scroll-inner\">\n        {comments && members &&\n          comments.map(comment=>(\n            <div key={comment.id.toString()} className=\"comment list-group-item d-flex\">\n              <div className='iconMask commentIcon'>\n                <Icon iconInfo={members[comment.userId]['iconInfo']} iconSize={iconSize} emotion={comment.emotion} where='comments'/>\n              </div>\n              <div>\n                {console.log(members)}\n                <strong className=\"userName mb-1\" style={{}}>{members[comment.userId]['displayName']}</strong>\n                <h3 className=\"commentContent\" style={{}}>{comment.content}</h3>\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Comments;","/home/vagrant/workspace/qa-app/src/Room/Stages/Stage.js",["199","200","201","202","203","204"],"\nimport React, {Timestamp,useEffect,useContext,createContext,useState} from 'react';\nimport './stage.css';\nimport Nomal from './Nomal/Nomal';\nimport {roomContext} from '../Room';\nimport {userContext} from '../../App';\nimport firebase , {db} from '../../Firebase/Firebase'\nimport CommentForm from './CommetForm/CommentForm'\nimport SplitPane from 'react-split-pane';\nimport randomMoveTimer from '../../IconRandomMove';\n\n\nconst IconMove=()=>{\n  let timers=[];\n  for(let i=0;i<timers.length;i++){\n    clearInterval(timers[i]);\n  }\n  timers=[];\n  const iconparts=  document.getElementsByClassName('stage-iconparts');\n  for(let i=0;i<iconparts.length;i++){\n    timers.push(randomMoveTimer(iconparts[i],1000));\n  }\n  return timers;\n}\n\nconst stageRadius=600;\nfunction Stage(props){\n  const {userId} = useContext(userContext);\n  const {icons,splitSize,room} = useContext(roomContext);\n  const [newComment,setNewComment] = useState(null);\n  const [emotions,setEmotions] = useState({});\n  const [reActions,setActions] = useState({});\n  const roomId=room['id'];\n\n  useEffect(()=>{\n    async function emotionData(){\n      var now = new Date();\n      var before5min_unix = new Date(now.getTime() - 5000);\n      console.log(before5min_unix,now);\n      //var before5min = Timestamp(before5min_unix);\n      const emoteUnsubscribe = await db.collection('/rooms').doc(roomId).collection('emotions').where('timeStamp','>',before5min_unix).onSnapshot(data=> {\n        console.log(data);\n        let value=[];\n        let emoteIds=data.docs.map(doc => \n          doc.id\n        );\n        data.forEach((doc) => {\n          value.push(\n            doc.data()\n          );\n        });\n        let emotes={};\n        for(let i = 0; i < emoteIds.length; i++){\n          emotes[emoteIds[i]]=value[i]['kind'];\n        }\n        console.log(data,value,emotes,\"ん\");\n        setEmotions(emotes);\n      });\n      return () => emoteUnsubscribe();\n    }\n    async function newCommentData(){\n      var now = new Date();\n      // 6秒以内のnewCommentを取得\n      // 本来は、コメントが増えたタイミングでバックエンドからイベントを起こすようにした方がいいのだろうが、firebaseでは有料だったのでこのように実装\n      var before6sec_unix = new Date(now.getTime() - 6000);\n      const newCommentUnsubscribe = await db.collection('/rooms').doc(roomId).collection('newComment').where('timeStamp','>',before6sec_unix).onSnapshot(data=> {\n        let value=[];\n        let newCommentIds=data.docs.map(doc => \n          doc.id\n        );\n        data.forEach((doc) => {\n          value.push(\n            doc.data()\n          );\n        });\n        let newComment={};\n        for(let i = 0; i < newCommentIds.length; i++){\n          newComment[newCommentIds[i]]=value[i]['content'];\n        }\n        console.log(data,value,newComment,\"ん\");\n        setNewComment(newComment);\n      });\n      return () => newCommentUnsubscribe();\n    }\n    async function reActionData(){\n      var now = new Date();\n      var before5sec_unix = new Date(now.getTime() - 5000);\n      console.log(before5sec_unix,now);\n      //var before5min = Timestamp(before5min_unix);\n      const emoteUnsubscribe = await db.collection('/rooms').doc(roomId).collection('reActions').where('timeStamp','>',before5sec_unix).onSnapshot(data=> {\n        let value=[];\n        let reActionIds=data.docs.map(doc => \n          doc.id\n        );\n        data.forEach((doc) => {\n          value.push(\n            doc.data()\n          );\n        });\n        let reActionDatas={};\n        for(let i = 0; i < reActionIds.length; i++){\n          if(!reActionDatas[value[i]['to']]){\n            reActionDatas[value[i]['to']]=[];\n          }\n          reActionDatas[value[i]['to']].push({\n            id   : reActionIds[i],\n            name : value[i]['name'],\n            from : value[i]['from'],\n            to   : value[i]['to'],\n          });\n        }\n        console.log(data,value,reActionDatas,\"ん\");\n        setActions(reActionDatas);\n      });\n      return () => emoteUnsubscribe();\n    }\n    emotionData();\n    newCommentData();\n    reActionData();\n  },[])\n  useEffect(()=>{\n    let moveTimer=IconMove();\n    return ()=>{\n      moveTimer.forEach(timer => {\n        clearInterval(timer);\n      });\n    }\n  })\n\n\n  return (\n    <stageContext.Provider value={{newComment,setNewComment,emotions,setEmotions,reActions,setActions}}>\n      <SplitPane split=\"horizontal\" defaultSize={window.innerHeight-171}>\n        <div id=\"stage\" >\n          <Nomal stageRadius={stageRadius}/>\n        </div>\n        <CommentForm />\n      </SplitPane>\n    </stageContext.Provider>\n  );\n}\nconst stageContext=createContext([]);\nexport {stageContext};\nexport default Stage;","/home/vagrant/workspace/qa-app/src/Room/Stages/CommetForm/CommentForm.js",["205","206","207","208","209"],"import React, { Component, createContext,useContext,useState,useEffect } from 'react';\nimport {roomContext} from '../../Room';\nimport { stageContext } from '../Stage';\nimport {userContext} from '../../../App';\nimport firebase, {db} from '../../../Firebase/Firebase'\n\n\n\nconst Form=()=>{\n  const {room}=useContext(roomContext);\n  const {emotions,setEmotions}=useContext(stageContext);\n  const {userId,userInfo}=useContext(userContext);\n  useEffect(()=>{\n    // スペースキーが押されたら投稿\n    document.body.addEventListener('keydown',\n    event => {\n      if (event.key === 'Enter' && event.ctrlKey) {\n        commentAPI();\n      }\n    });  \n  },[]);\n\n  var newCommentTimer;\n\n  // コメント投稿のAPI\n  function commentAPI (){  \n    let content=document.getElementById('inputComment').value;\n    // 0文字より多く、300文字より少なく入力されているなら\n    if(content.length>0&&content.length<=300){\n      // フォームの中身をなくす\n      document.getElementById('inputComment').value='';\n      let roomId=room['id'];\n      let emotion;\n      if(emotions[userId]){\n        emotion=emotions[userId];  \n      }else{\n        emotion=null;\n      }\n      db.collection('rooms').doc(roomId).collection('comments').add({\n        content   : content,\n        userId    : userId,\n        userName  : userInfo['displayName'],\n        emotion   : emotion,\n        timeStamp : firebase.firestore.FieldValue.serverTimestamp()\n      })\n      db.collection('rooms').doc(room['id']).collection('newComment').doc(userId).set({\n        content   : content,\n        timeStamp : firebase.firestore.FieldValue.serverTimestamp()\n      }).then(()=>{\n        console.log(newCommentTimer,\"newComment Timer\")\n        // 前のnewCommentの分が残っているなら、クリア\n        if(newCommentTimer){\n          clearTimeout(newCommentTimer);\n          console.log(\"newComment Timer Cleared!\",newCommentTimer)\n        }\n        // 6秒後にステージ用のコメントを消す。\n        newCommentTimer=setTimeout(function(){\n          db.collection('rooms').doc(room['id']).collection('newComment').doc(userId).delete();\n        }, 6000)\n        console.log(newCommentTimer+\"newComment Timer\");\n      })\n    }\n  }\n  // エモートのAPI\n  const emoteAPI= (e)=>{\n    const emote=e.target.dataset.kind;\n    console.log(emote);\n    if(emote===null){\n      db.collection.doc(room['id']).collection('emotions').doc(userId).delete();\n    }else{\n      db.collection('rooms').doc(room['id']).collection('emotions').doc(userId).set({\n        kind      : emote,\n        timeStamp : firebase.firestore.FieldValue.serverTimestamp()\n      })\n    }\n  }\n\n  return(\n    <div id=\"commentForm\">\n      <div id=\"emotions\">\n        <button className=\"emotoButton\" onClick={emoteAPI} data-kind=\"henoheno\">へのへの</button>\n        <button className=\"emotoButton\" onClick={emoteAPI} data-kind=\"null\">なし</button>  \n        <button className=\"emotoButton\" onClick={emoteAPI} data-kind=\"yurei\">ユーレイ</button>\n        <button className=\"emotoButton\" onClick={emoteAPI} data-kind=\"happy\">ニコニコ</button>  \n        <button className=\"emotoButton\" onClick={emoteAPI} data-kind=\"angry\">怒り</button>  \n        <button className=\"emotoButton\" onClick={emoteAPI} data-kind=\"naki\">泣き</button>  \n      </div>\n      <div className=\"form\">\n        <input id=\"inputComment\" />\n        <button type=\"submit\" maxLength=\"300\" onClick={commentAPI}>投稿</button>\n      </div>\n    </div>\n    )\n}\nexport default Form;","/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/StageIcon.js",["210","211"],"import React,{useContext} from 'react';\nimport {userContext} from '../../../App';\nimport {stageContext} from '../Stage';\nimport Icon from '../../../IconRender'\nimport ReActions from './IconAccessory/ReActions'\nimport NewComment from './IconAccessory/NewComment';\nimport ReActionButtons from './IconAccessory/ReActionButtons';\nimport firebase, {db} from '../../../Firebase/Firebase'\nimport './IconAccessory/iconacce.css';\n\nconst StageIcon = (props) => {\n  const {userId} = useContext(userContext);\n  const {emotions,reActions,newComment}=useContext(stageContext);\n\n  return(\n    <div className=\"stageIcon\">\n      {console.log(props.renderInfo)}\n      {props.renderInfo[0] !== userId && // ディスプレイネームを表示\n        <h3 className=\"stageIcon-displayName icon-acce\">{props.renderInfo[1]['displayName']}</h3>\n      }\n      {props.renderInfo[0] === userId && // 自分ならselfMaskクラスを追加したやつを描画\n        <h3 className=\"self-mark stageIcon-displayName icon-acce\">{props.renderInfo[1]['displayName']}</h3>\n      }\n      {newComment===null&&\n        <p className=\"icon-acce\">Loading NewComment...</p>\n      }\n      {newComment!==null&&\n        newComment[props.renderInfo[0]]&& // 新しいコメントがあるなら、新しいコメントを描画\n          <NewComment renderId={props.renderInfo[0]}/>\n      }\n      <Icon iconInfo={props.renderInfo[1]['iconInfo']} iconSize={200} emotion={emotions[props.renderInfo[0]]} where=\"stage\"/> \n      {props.renderInfo[0] !==userId && // 自分でないならアクションのボタンを描画\n        <ReActionButtons renderId={props.renderInfo[0]}/>\n      }\n      {reActions===null&&\n        <p className=\"icon-acce\">Loading Actions...</p>\n      }\n      {reActions!==null&&\n        reActions[props.renderInfo[0]]&&\n          <ReActions renderId={props.renderInfo[0]}/>\n      }\n    </div>\n  );\n}\n\nexport default StageIcon;","/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/IconAccessory/NewComment.js",[],"/home/vagrant/workspace/qa-app/src/Room/RoomHeader/RoomHeader.js",["212","213"],"import React,{ useContext } from 'react';\nimport {Link} from 'react-router-dom';\nimport { userContext } from '../../App';\nimport { roomContext } from '../Room';\nimport './roomheader.css'\nimport firebase,{db} from '../../Firebase/Firebase';\nimport { deleteRoomSubCollection } from '../../CollectionDelete';\n\nconst RoomHeader=()=> {\n  const {room}=useContext(roomContext);\n  const {userId} =useContext(userContext);\n\n\n  // 削除用のAPIだがしかしサブコレクションの削除ができないとかなんとかで時間的に諦め\n  const deleteRoomAPI=()=>{\n    var result = window.confirm('この操作は取り消せません、よろしいですか？');\n    if(result){\n      const r=db.collection('/rooms').doc(room['id']);\n      const roomId=room['id']\n      if(r){\n        deleteRoomSubCollection(roomId,'newComment').then(()=>{\n          deleteRoomSubCollection(roomId,'emotions').then(()=>{\n            deleteRoomSubCollection(roomId,'reActions').then(()=>{\n              deleteRoomSubCollection(roomId,'comments').then(()=>{\n                r.delete().then(()=>{})\n              })\n            })\n          })\n        }).catch((error)=>{\n          console.log('Error:'+error)\n        });\n      }\n    }\n  }\n  \n  return (\n    <header id=\"room-header\">\n      <div id=\"room-name\">\n        <strong>{room[\"roomName\"]}</strong>\n\t\t\t</div>\n      <ul id=\"room-info\">\n        <li>参加者：{room[\"members\"].length}</li>\n\t\t\t\t<li> 作成者：{room.madeUserName}</li>\n        <li> 作成日時：{room.madeTime}</li>\n        <li> メンバー：{room.members.length}人</li>\n\t\t\t</ul>\n      {console.log(room,room.madeUserId,userId)}\n      {room.madeUserId === userId &&\n        <button id=\"room-delete\" onClick={deleteRoomAPI}>ルームを削除</button>\n      }\n    </header>\n    );\n}\n\nexport default RoomHeader;\n/*\n \n\n\n    \n*/","/home/vagrant/workspace/qa-app/src/Room/Stages/Kanran/Kanran.js",["214","215","216"],"\nimport React, {Timestamp,useEffect, useContext} from 'react';\n\nimport './kanran.css';\nimport StageIcon from '../StageIcon/StageIcon'\nimport { roomContext } from '../../Room';\n\nconst stageRadius=150;\nconst pos=[[50,0],[90,50],[50,90],[0,50]];\nfunction Nomal(props){\n  const {members,room} = useContext(roomContext);\n  return (\n    <div id=\"kanransya\">\n      <div id=\"kanran\" className=\"\" style={{\"objectFit\": \"scale-down\"}}>\n        {pos.map((p,index)=>(\n          <div className=\"sya\" key={'sya-'+index} style={{width:'10%',height:'10%',top:p[0]+\"%\",left:p[1]+\"%\",position:'absolute'}}>\n            {console.log(index,room['members'][index],room['members'],members,members[room['members'][index]])}\n            {room['members'].length > index &&\n              <StageIcon renderInfo={[room['members'][index],members[room['members'][index]]]}/>\n            }\n            {room['members'].length <= index &&\n              <h1>車</h1>\n            }\n          </div>\n        \n          ))}\n        </div>\n    </div>\n  );\n}\n\n\nexport default Nomal;\n",["217","218"],"/home/vagrant/workspace/qa-app/src/IconRandomMove.js",[],"/home/vagrant/workspace/qa-app/src/UserSettings/UserSettings.js",["219","220","221","222","223","224","225","226","227","228","229","230","231","232","233"],"import React, {Component,useContext,createContext,useState,useEffect} from 'react';\nimport { BrowserRouter as Router, Redirect, Route, RouteProps, Switch } from 'react-router-dom';\n\nimport axios from 'axios';\nimport MakeIcon from './UserInfo/MakeIcon/MakeIcon';\nimport {userContext} from '../App'\n\nimport firebase, { db } from '../Firebase/Firebase';  \nimport NoLogin from './NoLogin';\nimport Loggedin from './UserInfo/LoggedIn';\n\nimport './usersettings.css';\n//import logoutFromGoogle from './Logout';\n\n\nconst UserSettings = () =>{\n  const {isOnline,setIsOnline,userId,setUserId,userInfo,setUserInfo} = useContext(userContext);\n  \n  const logoutFromGoogle = () => { \n    firebase.auth().signOut();\n    setIsOnline(false);\n    setUserId(null);\n  }\n\n  return (\n      <div>\n        {isOnline===null &&\n          <p>loading....</p>\n        }\n        {isOnline === true &&\n          <div id=\"settings\">\n            <MakeIcon />\n            <Loggedin />\n          </div>\n        }\n        {isOnline === false &&\n          <NoLogin/>\n        }\n      </div>\n  );\n}\nexport default UserSettings;\n","/home/vagrant/workspace/qa-app/src/UserSettings/NoLogin.js",["234","235"],"import firebase,{db} from '../Firebase/Firebase';\nimport {Redirect} from 'react-router-dom';\nimport {useContext} from 'react';\nimport { setIsFirst, userContext } from '../App';\nimport { GetIconRandom } from './UserInfo/MakeIcon/IconData';\n\nconst NoLogin=()=>{\n  const {setUserId,setUserName,setIsOnline,isOnline} = useContext(userContext);\n\n  const logoutFromGoogle = () => { \n    firebase.auth().signOut();\n    setIsOnline(false);\n    setUserId(null);\n  }\n\n\n  // ログイン処理\n  const loginWithGoogle = () => {\n    // もうauthにアカウントがあるかとかかな？...\n    setIsFirst(true);\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n    .then(function() {\n\n      const provider = new firebase.auth.GoogleAuthProvider();\n\n      // サインインしてもらう\n      firebase.auth().signInWithPopup(provider)\n      .then(async function(result) {\n        await db.collection('/users').where('userId','==',result.user.uid).get().then(function(doc) {\n          console.log(doc);\n          // まだアカウントないなら\n          if (doc.empty) {\n            console.log(\"No user\");\n            db.collection('users').doc(result.user.uid).set({\n              userId      : result.user.uid,\n              displayName : 'ゲスト',\n              oneWord     : '',\n              room        : null,\n              rooms       : [],\n              iconinfo    :(GetIconRandom())\n            }).then(async (doc)=>{\n              await db.collection('users').doc(result.user.uid).collection('seclet').doc(result.user.uid).set({\n                userName : result.user.displayName,\n                email    : result.user.email,\n              }).then(()=>{\n                console.log('login fin');    \n                setIsOnline(true);\n                setUserId(result.user.uid);\n              }).catch((error)=>{\n                db.collection('users').doc(result.user.uid).delete().then(()=>{\n                  logoutFromGoogle();\n                  alert('エラーが発生しました、もう一度ログインをお願いします。Error:'+error);\n                  console.log(error);\n                })\n              })\n            }).catch((error)=>{\n              logoutFromGoogle();\n              alert('エラーが発生しました、もう一度ログインをお願いします。Error:'+error);\n              console.log(error);\n            })\n          }else{\n            setIsOnline(true);\n            setUserId(result.user.uid);\n          }\n        })\n        .catch(function(error) {\n          console.log(\"Error : \", error);\n        });\n      }.bind(this))\n        .catch(function(error) {\n          alert(\"Googleでサインインできませんでした。 Error: \" , error);\n          console.log(error);\n          return false;\n        }\n      );\n    }.bind(this));\n  }\n  \n  return(\n    <div>\n      {isOnline === true &&\n        <div>\n          ログインしました！\n          <Redirect to = \"/userSetting\"/>\n        </div>\n      }\n      {isOnline === false &&\n        <div>\n          ログインしていません\n          <button onClick = {loginWithGoogle}>\n            Googleでログイン\n          </button>\n        </div>\n      }\n      {isOnline === null &&\n        <>loading aouth...</>\n      }\n    </div>\n    \n  )\n}\n\nexport default NoLogin;","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/LoggedIn.js",["236","237","238","239","240","241"],"import firebase,{db} from '../../Firebase/Firebase';\nimport {userContext} from '../../App';\nimport {useContext,useEffect,useState} from 'react';\nimport { SettingContext } from '../UserSettings';\nimport { Redirect } from 'react';\nimport { GetImgsInfoAllAll } from './MakeIcon/IconData';\n//import logoutFromGoogle from '../Logout';\nimport './loggedIn.css'\n\nconst Loggedin=()=>{\n  const {setIsOnline , isOnline , setUserId , userId ,userInfo} = useContext(userContext);\n  \n  const logoutFromGoogle = () => { \n    firebase.auth().signOut();\n    setIsOnline(false);\n    setUserId(null);\n    document.location.reload();\n  }\n\n  const changeInfoAPI = () =>{\n    if(document.getElementById('save-button').classList.contains('active')){\n      const newDisplayName = document.getElementById('displayName-input').value;\n      const newOneWordName = document.getElementById('oneWord-input').value;\n      db.collection('users').doc(userId).update({\n        displayName : newDisplayName,\n        oneWord     : newOneWordName,\n      }).then((doc)=>{\n        let value=GetImgsInfoAllAll();\n        db.collection('users').doc(userId).update({\n          iconinfo:value\n        }).then(()=>{\n          document.location.reload();\n        }).catch(error => {\n          // error\n          console.log(error)\n        });\n      }).catch((error)=>{\n        logoutFromGoogle();\n        alert('エラーが発生しました。申し訳ありませんが、もう一度ログインをお願いします。Error:'+error);\n        console.log(error);\n      })\n    }\n  }\n\n  return(\n    <div>\n      {userInfo===null&&\n        <p>Loading userInfo...</p>\n      }\n      {userInfo&&\n        <div>\n          <ul>\n            <li><h4>表示名</h4><input id=\"displayName-input\" type=\"text\" maxLength=\"15\" defaultValue={userInfo['displayName']} \n            onChange={()=>{\n              document.getElementById('save-button').classList.add('active')\n            }}></input></li>\n            <li><h4>ひとこと</h4><h3><input id=\"oneWord-input\" type=\"text\" maxLength=\"30\" defaultValue={userInfo['oneWord']}\n            onChange={()=>{\n              document.getElementById('save-button').classList.add('active')\n            }}></input></h3></li>\n            <li><h4>名前</h4><h3>{userInfo['userName']}</h3></li>\n            <li><h4>メールアドレス</h4><h3>{userInfo['email']}</h3></li>\n            <li><h4>Googleでログインしています</h4><button onClick = {logoutFromGoogle}>ログアウト</button></li>\n          </ul>    \n          <>設定が終わったら、</><a href=\"/\">ホーム</a><>に移動してルームに参加してみましょう！</><br/>\n          <a id=\"save-button\" onClick = {changeInfoAPI} >変更を保存</a>\n        </div>\n      }\n    </div>\n  )\n}\n\n\nexport default Loggedin;","/home/vagrant/workspace/qa-app/src/UserSettings/logout.js",["242","243","244","245","246","247","248"],"/home/vagrant/workspace/qa-app/src/UserSettings/Logout.js",["249","250","251","252"],"/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/IconAccessory/ReActionButtons.js",[],"/home/vagrant/workspace/qa-app/src/Room/Stages/StageIcon/IconAccessory/ReActions.js",["253"],"import React,{useContext} from 'react';\nimport { roomContext } from '../../../Room';\nimport {stageContext} from '../../Stage';\nimport './iconacce.css'\n\nconst ReActions = (props) =>{\n  const {reActions}=useContext(stageContext);\n  const {members}=useContext(roomContext);\n\n  function randomPos(max){\n    return  Math.floor(Math.random() * Math.floor( max ) ) - ( max / 2 );\n  }\n\n  return(\n    <div id=\"\" className=\"reActions icon-acce\">\n      {console.log(props.renderId,reActions)}\n      {reActions[props.renderId].map(element => (\n        <div key={element['id']} className=\"reaction\" style={{\"top\":-150+randomPos(100),\"left\":randomPos(100)}}>\n          <img src={\"../../../../../images/reactions/\"+element['name']+\".png\"} className=\"reactionImg\"></img>\n          {members[element['from']]['displayName'].length > 9 &&\n            <h4 className=\"reaction-from\">{members[element['from']]['displayName'].substr( 0, 9 )+\"...\"}</h4>\n          }\n          {members[element['from']]['displayName'].length <= 9 &&\n            <h4 className=\"reaction-from\">{members[element['from']]['displayName']}</h4>\n          }\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default ReActions;","/home/vagrant/workspace/qa-app/src/Error/Error.js",[],"/home/vagrant/workspace/qa-app/src/Room/Stages/Nomal/Nomal.js",["254","255"],"\nimport React, {Timestamp,useEffect, useContext} from 'react';\n\nimport './nomal.css';\nimport StageIcon from '../StageIcon/StageIcon'\nimport { roomContext } from '../../Room';\n\nfunction Nomal(props){\n  const {members,room} = useContext(roomContext);\n\n  return (\n    <div id=\"nomal\">\n      {console.log(Object.keys(members),room,members,room['members'],room['members'],room['members'][0],members[room['members'][0]])}\n      {Object.keys(members).map((m,index)=>(\n        <div key={'icondiv'+index} className='icondiv'>\n          <StageIcon renderInfo={[room['members'][index],members[room['members'][index]]]}/>\n        </div>\n      ))\n      }\n    </div>\n  );\n}\n\n\nexport default Nomal;\n\n","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/MakeIcon/MakeIcon.js",["256","257","258","259","260","261","262","263","264"],"import React, {createContext, useContext, useState, useEffect} from 'react';\n//import {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport './makeIcon.css'\nimport {GetImgsInfoAllAll, GetImgsInfoEach, GetPartsAll, GetRotMax, GetRotMin, GetRotNow, GetSizeMax, GetSizeMin, GetSizeXNow, SetImgsInfoAll, SetImgsInfoAllAll, SetRotNow, SetSizeNowAll, SetSizeXYNow} from './IconData';\nimport firebase,{db} from '../../../Firebase/Firebase'\nimport {userContext} from '../../../App';\nimport PartsSelect from './PartsSelect/PartsSelect';\n\nconst imgPath='./images/icon/';\n\nconst MakeIcon =()=> {\n  const [ nowKind , setNowKind ] = useState(null); \n  const [ nowName , setNowName ] = useState('face');\n  const [ nowSize , setNowSize ] = useState(30);\n  const [ nowRot  , setNowRot  ] = useState(0);\n \n  const {userInfo}=useContext(userContext);\n\n  useEffect(()=>{\n    if(userInfo){\n      // 今のアイコンの情報を描画したりデータにセットしたり。\n      SetImgsInfoAllAll(userInfo['iconinfo']);\n      Object.entries(userInfo['iconinfo']).forEach(partInfo => {\n        SetSizeXYNow(partInfo[0],partInfo[1]['sizeX'],partInfo[1]['sizeY']);\n        SetRotNow(partInfo[0],partInfo[1]['rot']);\n        let img=document.getElementById(partInfo[0]+'Img');\n        if(!img){\n          img = document.createElement('img');\n          img.classList.add('set-image');\n          img.classList.add(partInfo[0]);\n          img.id=partInfo[0]+'Img';\n        }\n        attach(img,partInfo[1]['sizeX'],partInfo[1]['sizeY'],partInfo[1]['posX'],partInfo[1]['posY'],partInfo[1]['rot'],partInfo[1]['kind'],partInfo[0]);\n      });\n    }\n    const facekind=GetImgsInfoEach(nowName,'kind');\n    // 選択してあるものをactiveに\n    document.getElementsByClassName('iconNameButton').forEach(activeElement => {\n      console.log(activeElement);\n      if(activeElement.classList.contains(nowName)){\n        activeElement.classList.add('active');\n      }\n    });\n    document.getElementsByClassName('iconKindButton').forEach(activeElement => {\n      if(activeElement.classList.contains(facekind)){\n        activeElement.classList.add('active');\n      }\n    });\n    setNowKind(GetImgsInfoEach(nowName,'kind'));\n  },[userInfo]);\n  \n  useEffect(()=>{\n    const facekind=GetImgsInfoEach(nowName,'kind');\n    document.getElementsByClassName('iconKindButton').forEach(activeElement => {\n      if(activeElement.classList.contains('active')){\n        activeElement.classList.remove('active');\n      }\n      if(activeElement.classList.contains(facekind)){\n        activeElement.classList.add('active');\n      }\n    });\n    setNowKind(facekind);\n  },[nowName])\n\n  // マウスが動いた時に画像を追従させる関数\n  const mouthmove = e =>{\n    // マウスの位置ー画像のサイズの半分で計算。\n    let mouseX = e.clientX-Math.floor(nowSize/2);\n    let mouseY = e.clientY-Math.floor(nowSize/2);\n    // 無限にレンダーがかかりそうなのでここはステートを使ってない\n    document.getElementById('traceImage').style.top  = mouseY + 'px';\n    document.getElementById('traceImage').style.left = mouseX + 'px';\n  }\n\n\n  // 画像を配置する関数\n  const attachByClick = e =>{\n    inputSizeSet();\n    inputRotSet();\n    let img=document.getElementById(nowName+'Img');\n    if(!img){\n      img = document.createElement('img');\n      img.classList.add('set-image');\n      //img.classList.add(nowName+'_'+nowKind);\n      img.classList.add(nowName+'Img');\n      img.id=(nowName);\n    }\n    let clientRect = document.getElementById('icon-space').getBoundingClientRect() ;\n\n    let px = window.pageXOffset + clientRect.left ;\n\n    // ページの上端から、要素の上端までの距離\n    let py = window.pageYOffset + clientRect.top ;\n    let mouseX =e.clientX;\n    let mouseY =e.clientY;\n\n    let x = mouseX-px-Math.floor(document.getElementById('sizeInput').value / 2);\n    let y = mouseY-py-Math.floor(document.getElementById('sizeInput').value / 2);\n    attach(img,document.getElementById('sizeInput').value,document.getElementById('sizeInput').value,x,y,document.getElementById('rotInput').value,nowKind,nowName)\n    document.getElementById('save-button').classList.add('active')\n  }\n  const attach=(img,sizex,sizey,x,y,rot,kind,name)=>{\n    img.src             = imgPath + kind + '_' + name + '.png';\n    img.style.width     = sizex + 'px';\n    img.style.height    = sizey + 'px';\n    img.style.position  = 'absolute';\n    img.style.left      = x + 'px';\n    img.style.top       = y + 'px';\n    img.style.transform = 'rotate('+rot+'deg)';\n    let values={\n      posX  : x     ,\n      posY  : y     ,\n      sizeX : sizex ,\n      sizeY : sizey ,\n      rot   : rot   ,\n      kind  : kind\n    };\n    document.getElementById('icon-space').appendChild(img);\n    SetImgsInfoAll(name,values);\n  }\n\n\n\n  // \n  const tracehide=()=>{\n    document.getElementById('traceImage').style.display = 'none';\n  }\n\n  function traceshow(){\n    document.getElementById('traceImage').style.display = 'block';\n  }\n\n  \n\n\n  let sizeTimer;\n  const sizeChange = (e) => {\n    if(sizeTimer){\n      clearTimeout(sizeTimer);\n    }\n    sizeTimer = setTimeout(inputSizeSet, 1000);\n      \n\n//      document.getElementById('traceImage').style.width = e.target.value+'px';\n//      document.getElementById('traceImage').style.height = e.target.value+'px';\n  }\n\n  let rotTimer;\n  const rotChange = (e) => {\n    if(rotTimer){\n      clearTimeout(rotTimer);\n    }\n\n    rotTimer = setTimeout(inputRotSet, 1000);\n      //document.getElementById('traceImage').style.transform ='rotate(' +e.target.value+'deg)';\n  }\n\n  // 回転をmaxminとかいい感じにてくれる関数\n  const inputRotSet=(name)=>{\n    if(!name){\n      name=nowName;\n    }\n    let input    = document.getElementById('rotInput');\n    let inputRot = input.value;\n    let nextRot;\n    let maxRot   = GetRotMax(name);\n    let minRot   = GetRotMin(name);\n\n    if(maxRot < inputRot){\n      nextRot=maxRot\n    }else if(minRot > inputRot){\n      nextRot=minRot\n    }else{\n      nextRot=inputRot\n    }\n    SetRotNow(name , nextRot);\n    setNowRot(nextRot);\n    input.value=nextRot;\n  }\n  // サイズをmaxminとかいい感じにてくれる関数\n  const inputSizeSet=(name)=>{\n    if(!name){\n      name=nowName;\n    }\n    let input     = document.getElementById('sizeInput');\n    let inputSize = input.value;\n    let nextSize;\n    let maxSize   = GetSizeMax(name);\n    let minSize   = GetSizeMin(name);\n    \n    if(maxSize < inputSize){\n      nextSize = maxSize\n    }else if(minSize > inputSize){\n      nextSize = minSize;\n    }else{\n      nextSize = inputSize;\n    }\n    SetSizeXYNow(name , nextSize , nextSize);\n    setNowSize(nextSize);\n    input.value=nextSize;\n  }\n\n  const {userId} = useContext(userContext);\n    return (\n      <div id=\"makeIcon\">\n        {userInfo===null&&\n          <p>loading infos...</p>\n        }\n        {userInfo!==null&&\n          <makeIconContext.Provider value = {{nowKind , setNowKind , nowName , setNowName , nowSize , setNowSize , nowRot , setNowRot}}>\n          <div  id = \"icon-space\" className=\"iconMask\"  onMouseMove = {mouthmove}  onMouseLeave = {tracehide}  onMouseEnter = {traceshow}  onClick = {attachByClick} />\n          {console.log(imgPath + nowKind + nowName + \"png\")}\n          <img  id = \"traceImage\"  src = { imgPath + nowKind + \"_\" + nowName + \".png\" }  style = {{ height : nowSize + \"px\" , width : nowSize + \"px\", zIndex : \"100\", position : \"absolute\", display : \"none\", cursor : \"none\", pointerEvents : \"none\",transform : \"rotate(\" + nowRot + \"deg)\" }}>\n          </img>\n          <div>\n            回転\n            <input  type = \"number\"  id = \"rotInput\"  onInput = {rotChange}   min = {GetRotMin(nowName)}  max = {GetRotMax(nowName)} defaultValue = \"0\"></input>\n            サイズ\n            <input  type = \"number\"  id = \"sizeInput\"  onInput = {sizeChange}  min = {GetSizeMin(nowName)}  max = {GetSizeMax(nowName)}  defaultValue = \"30\"></input>\n          </div>\n          <div  id = \"name-buttons\" className=\"\">\n          {Object.entries(GetPartsAll()).map((value) => (\n            // 「顔」とか「髪」とかのボタンを描画。\n            <button  key = {value[0]} id={value[0]+\"IconNameButton\"}  className = {value[0]+\" \"+\"iconNameButton btn-border_buttom\"}  data-name = {value[0]}  \n              onClick = {(e)=>{\n                // 「顔」とかのボタンの今までアクティブついてたの消して、今押されたやつにactiveを追加。その他サイズや回転なども変更\n                document.getElementsByClassName('iconNameButton').forEach(activeElement => {\n                  if(activeElement.classList.contains('active')){\n                    activeElement.classList.remove('active');\n                  }\n                });\n                setNowName(e.target.dataset.name);\n                setNowKind(GetImgsInfoEach(e.target.dataset.name,'kind'));\n                document.getElementById('sizeInput').value=GetSizeXNow(e.target.dataset.name);\n                document.getElementById('rotInput').value=GetRotNow(e.target.dataset.name);\n                inputSizeSet(e.target.dataset.name);\n                inputRotSet(e.target.dataset.name);\n              }}\n            >{value[1][\"displayName\"]}</button>\n          ))}\n          </div>\n          <PartsSelect />\n          </makeIconContext.Provider>\n          }\n      </div>\n    )\n}\nconst makeIconContext = createContext([])\nexport {makeIconContext};\nexport default MakeIcon;","/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/MakeIcon/IconData.js",[],"/home/vagrant/workspace/qa-app/src/UserSettings/UserInfo/MakeIcon/PartsSelect/PartsSelect.js",["265","266","267","268"],"import React, { useState, useContext  } from 'react';\nimport { act } from 'react-dom/test-utils';\nimport {GetPartsKinds} from '../IconData';\nimport {makeIconContext} from '../MakeIcon';\nimport '../makeIcon.css'\n\n\nconst PartsSelect=()=>{\n  const {setNowKind,nowKind,nowName} = useContext(makeIconContext);\n\n\n  return(\n    <div id=\"makeIconButtons\" className={nowName+\"button\"}>\n      {console.log(nowName)}\n      {Object.entries(GetPartsKinds(nowName)).map((value)=>(\n        <button \n          key={value[0]} \n          className={value[0]+\" \"+nowName+\" \"+\"iconKindButton btn-text-3d\"} \n          data-name={nowName} data-kind={value[0]}  \n          onClick={(e)=>{\n            setNowKind(e.target.dataset.kind);\n            document.getElementsByClassName('iconKindButton').forEach(activeElement => {\n              if(activeElement.classList.contains('active')){\n                activeElement.classList.remove('active');\n              }\n            });\n            e.target.classList.add('active');\n          }}\n        >{value[1][\"displayKind\"]}</button>\n      ))}\n    </div>\n  )\n}\n//  \n// data-partsName={nowName}\n\nexport default PartsSelect;","/home/vagrant/workspace/qa-app/src/miserarenaiyo.js",[],"/home/vagrant/workspace/qa-app/src/CollectionDelete.js",[],"/home/vagrant/workspace/qa-app/src/Main/Introduce/Introduce.js",[],{"ruleId":"269","severity":1,"message":"270","line":1,"column":15,"nodeType":"271","messageId":"272","endLine":1,"endColumn":28},{"ruleId":"269","severity":1,"message":"273","line":1,"column":29,"nodeType":"271","messageId":"272","endLine":1,"endColumn":37},{"ruleId":"274","replacedBy":"275"},{"ruleId":"276","replacedBy":"277"},{"ruleId":"269","severity":1,"message":"278","line":1,"column":17,"nodeType":"271","messageId":"272","endLine":1,"endColumn":26},{"ruleId":"269","severity":1,"message":"279","line":1,"column":27,"nodeType":"271","messageId":"272","endLine":1,"endColumn":35},{"ruleId":"269","severity":1,"message":"280","line":1,"column":51,"nodeType":"271","messageId":"272","endLine":1,"endColumn":61},{"ruleId":"269","severity":1,"message":"281","line":2,"column":27,"nodeType":"271","messageId":"272","endLine":2,"endColumn":33},{"ruleId":"269","severity":1,"message":"282","line":2,"column":52,"nodeType":"271","messageId":"272","endLine":2,"endColumn":62},{"ruleId":"269","severity":1,"message":"283","line":4,"column":8,"nodeType":"271","messageId":"272","endLine":4,"endColumn":16},{"ruleId":"269","severity":1,"message":"284","line":5,"column":8,"nodeType":"271","messageId":"272","endLine":5,"endColumn":16},{"ruleId":"269","severity":1,"message":"285","line":9,"column":10,"nodeType":"271","messageId":"272","endLine":9,"endColumn":19},{"ruleId":"269","severity":1,"message":"286","line":11,"column":9,"nodeType":"271","messageId":"272","endLine":11,"endColumn":25},{"ruleId":"287","severity":1,"message":"288","line":67,"column":7,"nodeType":"289","messageId":"290","endLine":67,"endColumn":11,"fix":"291"},{"ruleId":"269","severity":1,"message":"292","line":2,"column":9,"nodeType":"271","messageId":"272","endLine":2,"endColumn":13},{"ruleId":"293","severity":1,"message":"294","line":63,"column":5,"nodeType":"295","endLine":63,"endColumn":15,"suggestions":"296"},{"ruleId":"297","severity":1,"message":"298","line":86,"column":15,"nodeType":"299","endLine":86,"endColumn":105},{"ruleId":"300","severity":1,"message":"301","line":113,"column":17,"nodeType":"299","endLine":113,"endColumn":59},{"ruleId":"269","severity":1,"message":"278","line":1,"column":17,"nodeType":"271","messageId":"272","endLine":1,"endColumn":26},{"ruleId":"269","severity":1,"message":"270","line":1,"column":28,"nodeType":"271","messageId":"272","endLine":1,"endColumn":41},{"ruleId":"269","severity":1,"message":"280","line":1,"column":42,"nodeType":"271","messageId":"272","endLine":1,"endColumn":52},{"ruleId":"269","severity":1,"message":"273","line":1,"column":53,"nodeType":"271","messageId":"272","endLine":1,"endColumn":61},{"ruleId":"302","severity":1,"message":"303","line":41,"column":7,"nodeType":"299","endLine":48,"endColumn":12},{"ruleId":"269","severity":1,"message":"304","line":2,"column":8,"nodeType":"271","messageId":"272","endLine":2,"endColumn":17},{"ruleId":"269","severity":1,"message":"278","line":1,"column":17,"nodeType":"271","messageId":"272","endLine":1,"endColumn":26},{"ruleId":"269","severity":1,"message":"305","line":2,"column":8,"nodeType":"271","messageId":"272","endLine":2,"endColumn":13},{"ruleId":"269","severity":1,"message":"306","line":3,"column":8,"nodeType":"271","messageId":"272","endLine":3,"endColumn":12},{"ruleId":"269","severity":1,"message":"307","line":6,"column":10,"nodeType":"271","messageId":"272","endLine":6,"endColumn":20},{"ruleId":"269","severity":1,"message":"308","line":6,"column":22,"nodeType":"271","messageId":"272","endLine":6,"endColumn":26},{"ruleId":"269","severity":1,"message":"309","line":14,"column":8,"nodeType":"271","messageId":"272","endLine":14,"endColumn":17},{"ruleId":"269","severity":1,"message":"310","line":24,"column":10,"nodeType":"271","messageId":"272","endLine":24,"endColumn":18},{"ruleId":"269","severity":1,"message":"311","line":24,"column":26,"nodeType":"271","messageId":"272","endLine":24,"endColumn":34},{"ruleId":"293","severity":1,"message":"312","line":76,"column":5,"nodeType":"295","endLine":76,"endColumn":7,"suggestions":"313"},{"ruleId":"293","severity":1,"message":"314","line":151,"column":6,"nodeType":"295","endLine":151,"endColumn":14,"suggestions":"315"},{"ruleId":"316","severity":1,"message":"317","line":183,"column":14,"nodeType":"318","messageId":"290","endLine":183,"endColumn":16},{"ruleId":"269","severity":1,"message":"278","line":1,"column":16,"nodeType":"271","messageId":"272","endLine":1,"endColumn":25},{"ruleId":"269","severity":1,"message":"319","line":1,"column":45,"nodeType":"271","messageId":"272","endLine":1,"endColumn":52},{"ruleId":"269","severity":1,"message":"305","line":3,"column":8,"nodeType":"271","messageId":"272","endLine":3,"endColumn":13},{"ruleId":"269","severity":1,"message":"320","line":4,"column":8,"nodeType":"271","messageId":"272","endLine":4,"endColumn":16},{"ruleId":"269","severity":1,"message":"304","line":5,"column":8,"nodeType":"271","messageId":"272","endLine":5,"endColumn":17},{"ruleId":"269","severity":1,"message":"321","line":6,"column":8,"nodeType":"271","messageId":"272","endLine":6,"endColumn":16},{"ruleId":"269","severity":1,"message":"322","line":17,"column":13,"nodeType":"271","messageId":"272","endLine":17,"endColumn":24},{"ruleId":"269","severity":1,"message":"278","line":1,"column":16,"nodeType":"271","messageId":"272","endLine":1,"endColumn":25},{"ruleId":"269","severity":1,"message":"305","line":3,"column":8,"nodeType":"271","messageId":"272","endLine":3,"endColumn":13},{"ruleId":"269","severity":1,"message":"323","line":6,"column":9,"nodeType":"271","messageId":"272","endLine":6,"endColumn":11},{"ruleId":"269","severity":1,"message":"324","line":26,"column":19,"nodeType":"271","messageId":"272","endLine":26,"endColumn":23},{"ruleId":"269","severity":1,"message":"325","line":27,"column":7,"nodeType":"271","messageId":"272","endLine":27,"endColumn":11},{"ruleId":"269","severity":1,"message":"326","line":2,"column":16,"nodeType":"271","messageId":"272","endLine":2,"endColumn":25},{"ruleId":"269","severity":1,"message":"320","line":7,"column":8,"nodeType":"271","messageId":"272","endLine":7,"endColumn":16},{"ruleId":"269","severity":1,"message":"327","line":28,"column":10,"nodeType":"271","messageId":"272","endLine":28,"endColumn":16},{"ruleId":"269","severity":1,"message":"328","line":29,"column":10,"nodeType":"271","messageId":"272","endLine":29,"endColumn":15},{"ruleId":"269","severity":1,"message":"329","line":29,"column":16,"nodeType":"271","messageId":"272","endLine":29,"endColumn":25},{"ruleId":"293","severity":1,"message":"330","line":120,"column":5,"nodeType":"295","endLine":120,"endColumn":7,"suggestions":"331"},{"ruleId":"269","severity":1,"message":"278","line":1,"column":17,"nodeType":"271","messageId":"272","endLine":1,"endColumn":26},{"ruleId":"269","severity":1,"message":"270","line":1,"column":28,"nodeType":"271","messageId":"272","endLine":1,"endColumn":41},{"ruleId":"269","severity":1,"message":"273","line":1,"column":53,"nodeType":"271","messageId":"272","endLine":1,"endColumn":61},{"ruleId":"269","severity":1,"message":"332","line":11,"column":19,"nodeType":"271","messageId":"272","endLine":11,"endColumn":30},{"ruleId":"293","severity":1,"message":"333","line":21,"column":5,"nodeType":"295","endLine":21,"endColumn":7,"suggestions":"334"},{"ruleId":"269","severity":1,"message":"320","line":8,"column":8,"nodeType":"271","messageId":"272","endLine":8,"endColumn":16},{"ruleId":"269","severity":1,"message":"323","line":8,"column":19,"nodeType":"271","messageId":"272","endLine":8,"endColumn":21},{"ruleId":"269","severity":1,"message":"292","line":2,"column":9,"nodeType":"271","messageId":"272","endLine":2,"endColumn":13},{"ruleId":"269","severity":1,"message":"320","line":6,"column":8,"nodeType":"271","messageId":"272","endLine":6,"endColumn":16},{"ruleId":"269","severity":1,"message":"326","line":2,"column":16,"nodeType":"271","messageId":"272","endLine":2,"endColumn":25},{"ruleId":"269","severity":1,"message":"335","line":2,"column":26,"nodeType":"271","messageId":"272","endLine":2,"endColumn":35},{"ruleId":"269","severity":1,"message":"336","line":8,"column":7,"nodeType":"271","messageId":"272","endLine":8,"endColumn":18},{"ruleId":"274","replacedBy":"337"},{"ruleId":"276","replacedBy":"338"},{"ruleId":"269","severity":1,"message":"278","line":1,"column":16,"nodeType":"271","messageId":"272","endLine":1,"endColumn":25},{"ruleId":"269","severity":1,"message":"270","line":1,"column":37,"nodeType":"271","messageId":"272","endLine":1,"endColumn":50},{"ruleId":"269","severity":1,"message":"273","line":1,"column":51,"nodeType":"271","messageId":"272","endLine":1,"endColumn":59},{"ruleId":"269","severity":1,"message":"335","line":1,"column":60,"nodeType":"271","messageId":"272","endLine":1,"endColumn":69},{"ruleId":"269","severity":1,"message":"281","line":2,"column":27,"nodeType":"271","messageId":"272","endLine":2,"endColumn":33},{"ruleId":"269","severity":1,"message":"339","line":2,"column":35,"nodeType":"271","messageId":"272","endLine":2,"endColumn":43},{"ruleId":"269","severity":1,"message":"340","line":2,"column":45,"nodeType":"271","messageId":"272","endLine":2,"endColumn":50},{"ruleId":"269","severity":1,"message":"282","line":2,"column":52,"nodeType":"271","messageId":"272","endLine":2,"endColumn":62},{"ruleId":"269","severity":1,"message":"341","line":2,"column":64,"nodeType":"271","messageId":"272","endLine":2,"endColumn":70},{"ruleId":"269","severity":1,"message":"305","line":4,"column":8,"nodeType":"271","messageId":"272","endLine":4,"endColumn":13},{"ruleId":"269","severity":1,"message":"323","line":8,"column":20,"nodeType":"271","messageId":"272","endLine":8,"endColumn":22},{"ruleId":"269","severity":1,"message":"327","line":17,"column":31,"nodeType":"271","messageId":"272","endLine":17,"endColumn":37},{"ruleId":"269","severity":1,"message":"311","line":17,"column":48,"nodeType":"271","messageId":"272","endLine":17,"endColumn":56},{"ruleId":"269","severity":1,"message":"342","line":17,"column":57,"nodeType":"271","messageId":"272","endLine":17,"endColumn":68},{"ruleId":"269","severity":1,"message":"343","line":19,"column":9,"nodeType":"271","messageId":"272","endLine":19,"endColumn":25},{"ruleId":"269","severity":1,"message":"344","line":8,"column":20,"nodeType":"271","messageId":"272","endLine":8,"endColumn":31},{"ruleId":"287","severity":1,"message":"288","line":69,"column":9,"nodeType":"289","messageId":"290","endLine":69,"endColumn":13,"fix":"345"},{"ruleId":"269","severity":1,"message":"335","line":3,"column":20,"nodeType":"271","messageId":"272","endLine":3,"endColumn":29},{"ruleId":"269","severity":1,"message":"273","line":3,"column":30,"nodeType":"271","messageId":"272","endLine":3,"endColumn":38},{"ruleId":"269","severity":1,"message":"346","line":4,"column":10,"nodeType":"271","messageId":"272","endLine":4,"endColumn":24},{"ruleId":"269","severity":1,"message":"339","line":5,"column":10,"nodeType":"271","messageId":"272","endLine":5,"endColumn":18},{"ruleId":"269","severity":1,"message":"310","line":11,"column":24,"nodeType":"271","messageId":"272","endLine":11,"endColumn":32},{"ruleId":"297","severity":1,"message":"298","line":66,"column":11,"nodeType":"299","endLine":66,"endColumn":58},{"ruleId":"269","severity":1,"message":"273","line":1,"column":30,"nodeType":"271","messageId":"272","endLine":1,"endColumn":38},{"ruleId":"269","severity":1,"message":"323","line":2,"column":18,"nodeType":"271","messageId":"272","endLine":2,"endColumn":20},{"ruleId":"269","severity":1,"message":"327","line":5,"column":47,"nodeType":"271","messageId":"272","endLine":5,"endColumn":53},{"ruleId":"269","severity":1,"message":"347","line":5,"column":55,"nodeType":"271","messageId":"272","endLine":5,"endColumn":63},{"ruleId":"348","severity":2,"message":"349","line":5,"column":67,"nodeType":"271","endLine":5,"endColumn":77},{"ruleId":"350","severity":2,"message":"351","line":5,"column":78,"nodeType":"271","messageId":"352","endLine":5,"endColumn":89},{"ruleId":"348","severity":2,"message":"353","line":16,"column":3,"nodeType":"271","endLine":16,"endColumn":12},{"ruleId":"269","severity":1,"message":"335","line":1,"column":20,"nodeType":"271","messageId":"272","endLine":1,"endColumn":29},{"ruleId":"269","severity":1,"message":"273","line":1,"column":30,"nodeType":"271","messageId":"272","endLine":1,"endColumn":38},{"ruleId":"269","severity":1,"message":"323","line":3,"column":18,"nodeType":"271","messageId":"272","endLine":3,"endColumn":20},{"ruleId":"348","severity":2,"message":"354","line":5,"column":48,"nodeType":"271","endLine":5,"endColumn":58},{"ruleId":"302","severity":1,"message":"303","line":19,"column":11,"nodeType":"299","endLine":19,"endColumn":104},{"ruleId":"269","severity":1,"message":"326","line":2,"column":16,"nodeType":"271","messageId":"272","endLine":2,"endColumn":25},{"ruleId":"269","severity":1,"message":"335","line":2,"column":26,"nodeType":"271","messageId":"272","endLine":2,"endColumn":35},{"ruleId":"269","severity":1,"message":"305","line":3,"column":8,"nodeType":"271","messageId":"272","endLine":3,"endColumn":13},{"ruleId":"269","severity":1,"message":"355","line":5,"column":9,"nodeType":"271","messageId":"272","endLine":5,"endColumn":26},{"ruleId":"269","severity":1,"message":"356","line":5,"column":174,"nodeType":"271","messageId":"272","endLine":5,"endColumn":187},{"ruleId":"269","severity":1,"message":"320","line":6,"column":8,"nodeType":"271","messageId":"272","endLine":6,"endColumn":16},{"ruleId":"269","severity":1,"message":"323","line":6,"column":18,"nodeType":"271","messageId":"272","endLine":6,"endColumn":20},{"ruleId":"293","severity":1,"message":"357","line":51,"column":5,"nodeType":"295","endLine":51,"endColumn":15,"suggestions":"358"},{"ruleId":"269","severity":1,"message":"327","line":204,"column":10,"nodeType":"271","messageId":"272","endLine":204,"endColumn":16},{"ruleId":"302","severity":1,"message":"303","line":214,"column":11,"nodeType":"299","endLine":214,"endColumn":291},{"ruleId":"359","severity":1,"message":"360","line":225,"column":96,"nodeType":"318","messageId":"361","endLine":225,"endColumn":97},{"ruleId":"269","severity":1,"message":"273","line":1,"column":17,"nodeType":"271","messageId":"272","endLine":1,"endColumn":25},{"ruleId":"269","severity":1,"message":"362","line":2,"column":10,"nodeType":"271","messageId":"272","endLine":2,"endColumn":13},{"ruleId":"269","severity":1,"message":"363","line":9,"column":21,"nodeType":"271","messageId":"272","endLine":9,"endColumn":28},{"ruleId":"359","severity":1,"message":"360","line":18,"column":46,"nodeType":"318","messageId":"361","endLine":18,"endColumn":47},"no-unused-vars","'createContext' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","no-native-reassign",["364"],"no-negated-in-lhs",["365"],"'Component' is defined but never used.","'getState' is defined but never used.","'useContext' is defined but never used.","'Router' is defined but never used.","'RouteProps' is defined but never used.","'Comments' is defined but never used.","'MakeIcon' is defined but never used.","'useWorker' is defined but never used.","'googleauthConfig' is defined but never used.","no-extra-bind","The function binding is unnecessary.","CallExpression","unexpected",{"range":"366","text":"367"},"'Link' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.","ArrayExpression",["368"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'SplitPane' is defined but never used.","'axios' is defined but never used.","'Icon' is defined but never used.","'Splitpanes' is defined but never used.","'Pane' is defined but never used.","'StageIcon' is defined but never used.","'isOnline' is assigned a value but never used.","'userInfo' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'roomId' and 'userId'. Either include them or remove the dependency array.",["369"],"React Hook useEffect has missing dependencies: 'room' and 'roomId'. Either include them or remove the dependency array.",["370"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","'current' is defined but never used.","'firebase' is defined but never used.","'RoomForm' is defined but never used.","'unsubscribe' is assigned a value but never used.","'db' is defined but never used.","'room' is assigned a value but never used.","'Path' is assigned a value but never used.","'Timestamp' is defined but never used.","'userId' is assigned a value but never used.","'icons' is assigned a value but never used.","'splitSize' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'roomId'. Either include it or remove the dependency array.",["371"],"'setEmotions' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'commentAPI'. Either include it or remove the dependency array.",["372"],"'useEffect' is defined but never used.","'stageRadius' is assigned a value but never used.",["364"],["365"],"'Redirect' is defined but never used.","'Route' is defined but never used.","'Switch' is defined but never used.","'setUserInfo' is assigned a value but never used.","'logoutFromGoogle' is assigned a value but never used.","'setUserName' is assigned a value but never used.",{"range":"373","text":"367"},"'SettingContext' is defined but never used.","'userName' is assigned a value but never used.","react-hooks/rules-of-hooks","React Hook \"useContext\" is called in function \"logout\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter.","no-undef","'userContext' is not defined.","undef","React Hook \"useEffect\" is called in function \"logout\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter.","React Hook \"useContext\" cannot be called at the top level. React Hooks must be called in a React function component or a custom React Hook function.","'GetImgsInfoAllAll' is defined but never used.","'SetSizeNowAll' is defined but never used.","React Hook useEffect has a missing dependency: 'nowName'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setNowKind' needs the current value of 'nowName'.",["374"],"no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","'act' is defined but never used.","'nowKind' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[2303,2314],"",{"desc":"375","fix":"376"},{"desc":"377","fix":"378"},{"desc":"379","fix":"380"},{"desc":"381","fix":"382"},{"desc":"383","fix":"384"},[2404,2415],{"desc":"385","fix":"386"},"Update the dependencies array to be: [userId, userInfo]",{"range":"387","text":"388"},"Update the dependencies array to be: [roomId, userId]",{"range":"389","text":"390"},"Update the dependencies array to be: [isRoom, room, roomId]",{"range":"391","text":"392"},"Update the dependencies array to be: [roomId]",{"range":"393","text":"394"},"Update the dependencies array to be: [commentAPI]",{"range":"395","text":"396"},"Update the dependencies array to be: [nowName, userInfo]",{"range":"397","text":"398"},[1906,1916],"[userId, userInfo]",[2750,2752],"[roomId, userId]",[5266,5274],"[isRoom, room, roomId]",[3991,3993],"[roomId]",[631,633],"[commentAPI]",[2141,2151],"[nowName, userInfo]"]